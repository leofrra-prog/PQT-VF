<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pr√©jug√©s & Discriminations</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600&family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Palette PASTEL DOUCE */
            --bg: #FDFBF7;
            --p-blue: #A2D2FF;
            --p-blue-dark: #80b3e6;
            --p-pink: #FFC8DD;
            --p-pink-dark: #e6aac1;
            --p-green: #BDE0FE; /* Bleu/Vert tr√®s doux */
            --p-mint: #Caffbf;
            --p-mint-dark: #a8e69a;
            --p-yellow: #FDFFB6;
            --p-purple: #CDB4DB;
            --text: #555;
            --glass: rgba(255, 255, 255, 0.7);
            --shadow: 0 10px 25px rgba(0,0,0,0.08);
        }

        body {
            font-family: 'Nunito', sans-serif;
            margin: 0; padding: 0;
            background-color: var(--bg);
            color: var(--text);
            overflow: hidden;
            height: 100vh; width: 100vw;
        }

        /* --- BACKGROUND DECORATION (Courbes) --- */
        .deco-shape { position: absolute; z-index: -1; opacity: 0.6; filter: blur(40px); animation: float 10s infinite ease-in-out; }
        .ds-1 { top: -10%; left: -10%; width: 500px; height: 500px; background: var(--p-pink); border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%; }
        .ds-2 { bottom: -10%; right: -10%; width: 600px; height: 600px; background: var(--p-blue); border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; animation-delay: -5s; }
        @keyframes float { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(20px, -20px); } }

        /* --- NAVIGATION --- */
        .nav-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            background: white; color: var(--text); border: none;
            width: 60px; height: 60px; border-radius: 50%;
            font-size: 24px; cursor: pointer; z-index: 1000;
            box-shadow: var(--shadow); transition: 0.3s;
            display: flex; align-items: center; justify-content: center;
        }
        .nav-btn:hover { background: var(--p-purple); color: white; transform: translateY(-50%) scale(1.1); }
        #prev-btn { left: 30px; }
        #next-btn { right: 30px; }

        .reset-btn {
            position: absolute; top: 20px; right: 20px;
            background: #ffadad; color: white; border: none; padding: 8px 20px;
            border-radius: 20px; cursor: pointer; font-weight: bold; z-index: 1000;
            box-shadow: var(--shadow); transition: transform 0.2s;
        }
        .reset-btn:hover { transform: scale(1.05); }

        /* --- SLIDE CONTAINER --- */
        .slide {
            position: absolute; width: 100%; height: 100%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.6s ease;
            padding: 20px; box-sizing: border-box;
        }
        .slide.active { opacity: 1; pointer-events: all; z-index: 10; }

        h1 { font-family: 'Fredoka', sans-serif; font-size: 3.5rem; color: #777; margin-bottom: 20px; text-align: center; }
        p { font-size: 1.2rem; max-width: 800px; text-align: center; line-height: 1.6; }

        /* --- SLIDE 1: INTRO --- */
        .intro-frame {
            background: white; padding: 15px; border-radius: 20px;
            box-shadow: var(--shadow); transform: rotate(-3deg);
            margin-top: 40px; display: inline-block;
        }
        .intro-frame img { height: 150px; border-radius: 10px; display: block; }
        .art-shapes { display: flex; gap: 40px; margin-top: 50px; align-items: center; }
        .art-circle { width: 100px; height: 100px; border-radius: 50%; background: var(--p-blue); display:flex; align-items:center; justify-content:center; font-size:2rem; color:white; box-shadow: var(--shadow); animation: bounce 3s infinite; }
        .art-square { width: 100px; height: 100px; border-radius: 20px; background: var(--p-mint); transform: rotate(15deg); display:flex; align-items:center; justify-content:center; font-size:2rem; color:white; box-shadow: var(--shadow); animation: bounce 3s infinite 0.5s; }

        /* --- SLIDE 2 & PERSISTENT RULES --- */
        /* Conteneur initial (Slide 2) */
        .rules-wrapper-center {
            display: flex; flex-direction: column; gap: 20px;
            transition: all 0.8s ease-in-out;
            position: relative;
        }
        .rule-bubble {
            background: white; padding: 20px 40px; border-radius: 50px;
            font-size: 1.5rem; font-weight: bold; color: var(--text);
            box-shadow: var(--shadow); cursor: pointer;
            border-left: 8px solid var(--p-blue);
            animation: pulse 3s infinite ease-in-out;
            transition: transform 0.3s;
        }
        .rule-bubble:hover { transform: scale(1.05); filter: brightness(1.05); }
        .rule-bubble:nth-child(2) { border-color: var(--p-pink); animation-delay: 0.5s; }
        .rule-bubble:nth-child(3) { border-color: var(--p-mint); animation-delay: 1s; }
        .rule-bubble:nth-child(4) { border-color: var(--p-purple); animation-delay: 1.5s; }
        .rule-bubble:nth-child(5) { border-color: var(--p-yellow); animation-delay: 2s; }

        @keyframes pulse { 0%, 100% { box-shadow: 0 0 0 rgba(0,0,0,0.05); } 50% { box-shadow: 0 10px 20px rgba(0,0,0,0.15); } }

        /* Mode "Mini" (Haut Gauche) */
        body.mini-rules-active .rules-wrapper-center {
            position: fixed; top: 20px; left: 20px;
            transform: scale(0.4); transform-origin: top left;
            gap: 10px; z-index: 2000;
            flex-direction: row; flex-wrap: wrap; width: 300px;
        }
        /* Pour masquer les r√®gles sur la slide 1 */
        body.hide-rules .rules-wrapper-center { display: none; }

        /* --- SLIDE 3: ICEBREAKER --- */
        .ib-container { display: flex; gap: 30px; margin-top: 50px; }
        .ib-item {
            width: 160px; height: 160px; border-radius: 50%;
            background: white; box-shadow: var(--shadow);
            display: flex; align-items: center; justify-content: center; text-align: center;
            font-weight: 700; color: #666; padding: 10px;
            transition: 0.4s; cursor: pointer; border: 4px solid white;
        }
        .ib-item:hover { transform: translateY(-20px) scale(1.1); border-color: var(--p-purple); }

        /* --- SLIDE 4: LEO LAGRANGE --- */
        .leo-frame {
            background: white; padding: 40px; border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            max-width: 900px; display: flex; gap: 40px; position: relative;
        }
        .leo-frame::before { content:''; position: absolute; top:-20px; left:-20px; width:100%; height:100%; border: 3px dashed var(--p-blue); border-radius: 30px; z-index:-1; }
        .leo-col { flex: 1; }
        .leo-col h2 { color: var(--p-blue-dark); border-bottom: 2px solid var(--p-yellow); padding-bottom: 10px; margin-top: 0; }
        .leo-list div { margin-bottom: 15px; display: flex; align-items: flex-start; gap: 10px; }
        .leo-img-box { text-align: center; margin-top: 20px; }
        .leo-img-box img { width: 120px; border-radius: 50%; border: 5px solid var(--p-pink); }

        /* --- SLIDE 5: CERCLES (Nuances & Grossissement) --- */
        .circles-zone { position: relative; width: 600px; height: 600px; display: flex; justify-content: center; align-items: center; }
        .c-item {
            position: absolute; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            text-align: center; transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: var(--shadow); cursor: default;
            flex-direction: column; overflow: hidden;
            border: 1px solid rgba(255,255,255,0.5);
        }
        /* D√©grad√©s radiaux pour la nuance */
        .c-region { width: 550px; height: 550px; background: radial-gradient(circle, #e3f2fd 30%, var(--p-blue) 100%); z-index: 1; color: #1565c0; }
        .c-dept { width: 380px; height: 380px; background: radial-gradient(circle, #ffebee 30%, var(--p-pink) 100%); z-index: 2; color: #c62828; }
        .c-ville { width: 220px; height: 220px; background: radial-gradient(circle, #fffde7 30%, var(--p-yellow) 100%); z-index: 3; color: #f9a825; }
        
        .c-label { font-size: 1.5rem; font-weight: 900; text-transform: uppercase; letter-spacing: 2px; transition: 0.3s; }
        .c-details {
            opacity: 0; transform: scale(0.8); transition: 0.4s;
            display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 10px;
        }
        .tag { background: white; padding: 5px 10px; border-radius: 10px; font-size: 0.9rem; box-shadow: 0 2px 5px rgba(0,0,0,0.1); font-weight: bold; }

        /* Interaction: Le cercle prend tout l'√©cran ou presque */
        .c-item:hover { width: 650px; height: 650px; z-index: 100; box-shadow: 0 30px 60px rgba(0,0,0,0.2); }
        .c-item:hover .c-label { transform: translateY(-50px); font-size: 2rem; }
        .c-item:hover .c-details { opacity: 1; transform: scale(1); }

        /* --- SLIDE 6: NUMEROS --- */
        .nums-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; width: 90%; max-width: 1100px; }
        .num-card {
            background: white; border-radius: 20px; padding: 20px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            box-shadow: var(--shadow); position: relative; overflow: hidden;
            transition: transform 0.3s; min-height: 200px; text-align: center;
        }
        .num-card:hover { transform: translateY(-10px); }
        .num-big { font-size: 2.5rem; font-weight: 900; color: var(--p-purple); margin-bottom: 10px; }
        .num-title { font-weight: bold; font-size: 1.2rem; color: #444; margin-bottom: 10px; }
        .num-desc { font-size: 0.95rem; color: #666; line-height: 1.4; }
        .badge-app { background: var(--p-mint); color: #333; padding: 2px 8px; border-radius: 5px; font-size: 0.8rem; font-weight: bold; display: inline-block; margin-top: 5px; }

        /* --- SLIDE 7: STATS (Simple) --- */
        .stats-row { display: flex; gap: 30px; flex-wrap: wrap; justify-content: center; margin-top: 30px; }
        .stat-circle {
            width: 200px; height: 200px; border-radius: 50%;
            background: white; border: 5px solid;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; padding: 15px; box-shadow: var(--shadow);
            transition: transform 0.4s;
        }
        .stat-circle:hover { transform: scale(1.2); z-index: 10; background: #fff; }
        .s-val { font-size: 2.5rem; font-weight: 900; margin-bottom: 5px; }
        .s-label { font-size: 1.1rem; font-weight: bold; margin-bottom: 5px; text-transform: uppercase; }
        .s-comment { font-size: 0.85rem; font-style: italic; }

        /* --- SLIDE 8: NUAGE MOTS (No Overlap) --- */
        #cloud-canvas {
            width: 800px; height: 500px; background: white; border-radius: 30px;
            box-shadow: inset 0 0 40px rgba(0,0,0,0.05); border: 2px solid var(--p-blue);
            position: relative; margin-top: 20px; overflow: hidden;
        }
        .cloud-item { position: absolute; font-weight: bold; transform-origin: center; animation: pop 0.5s; padding: 5px; white-space: nowrap; }
        @keyframes pop { from { transform: scale(0); } to { transform: scale(1); } }
        #word-input { padding: 10px 20px; border-radius: 20px; border: 2px solid var(--p-purple); width: 300px; font-size: 1.1rem; text-align: center; outline: none; }

        /* --- SLIDE 9: CULTIONNARY --- */
        .cult-layout { display: flex; gap: 50px; align-items: center; }
        .cult-rules { background: white; padding: 30px; border-radius: 20px; box-shadow: var(--shadow); width: 400px; }
        .cult-timer-box {
            background: var(--p-pink); color: white; padding: 30px; border-radius: 50%;
            width: 200px; height: 200px; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            box-shadow: var(--shadow); border: 5px solid white;
        }
        #timer-display { font-size: 4rem; font-weight: 900; font-family: 'Fredoka', sans-serif; }
        .timer-controls button { background: white; border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; margin: 5px; font-weight: bold; color: var(--p-pink); }
        .cult-icon { font-size: 3rem; margin-bottom: 15px; color: var(--p-purple); }

        /* --- SLIDE 11: COURAGE D'AGIR --- */
        .courage-container {
            display: flex; width: 95%; height: 85%; gap: 20px;
        }
        /* Le Plateau */
        .game-zone {
            flex: 2; position: relative;
            background: white; border-radius: 30px; border: 4px solid #eee;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.05);
        }
        .c-corner { position: absolute; padding: 15px 30px; border-radius: 15px; font-weight: bold; color: white; font-size: 1.2rem; box-shadow: var(--shadow); }
        .cc-red { top: 20px; left: 20px; background: #ef476f; }
        .cc-blue { top: 20px; right: 20px; background: #118ab2; }
        .cc-green { bottom: 20px; left: 50%; transform: translateX(-50%); background: #06d6a0; }

        /* Zone centrale (Carte active) */
        #active-card-zone {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 300px; height: 200px; display: flex; align-items: center; justify-content: center;
            border: 3px dashed #ccc; border-radius: 20px; color: #ccc; font-weight: bold;
        }
        .situation-card.active {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(1.5);
            z-index: 100; margin: 0; width: 250px;
        }

        /* Liste des situations √† droite */
        .situations-list {
            flex: 1; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;
            overflow-y: auto; padding: 10px; align-content: start;
        }
        .situation-card {
            background: white; padding: 15px; border-radius: 15px;
            font-size: 0.9rem; cursor: pointer; border-left: 5px solid var(--p-purple);
            box-shadow: 0 5px 10px rgba(0,0,0,0.05); transition: 0.3s;
            display: flex; align-items: center; justify-content: center; text-align: center;
        }
        .situation-card:hover { transform: scale(1.05); background: var(--p-purple); color: white; }

    </style>
</head>
<body class="hide-rules"> <!-- On commence en cachant les r√®gles -->

    <!-- BACKGROUND ANIM√â -->
    <div class="deco-shape ds-1"></div>
    <div class="deco-shape ds-2"></div>

    <!-- NAVIGATION -->
    <button id="prev-btn" class="nav-btn"><i class="fas fa-arrow-left"></i></button>
    <button id="next-btn" class="nav-btn"><i class="fas fa-arrow-right"></i></button>

    <!-- LES R√àGLES PERSISTANTES (Qui se d√©placent) -->
    <div class="rules-wrapper-center" id="rulesWrapper">
        <div class="rule-bubble" onclick="alert('On ne coupe pas la parole !')">üé§ Pas couper parole</div>
        <div class="rule-bubble" onclick="alert('On encourage tout le monde !')">ü§ù Encourager</div>
        <div class="rule-bubble" onclick="alert('Dialogue ouvert et sympa')">üí¨ Dialogue ouvert</div>
        <div class="rule-bubble" onclick="alert('On ne vise personne personnellement')">üéØ Ne viser personne</div>
        <div class="rule-bubble" onclick="alert('Pas de cas personnels ici')">üö´ Pas de cas perso</div>
    </div>

    <!-- SLIDES -->
    <div class="slide active" id="slide1">
        <h1>Pr√©jug√©s,<br>quand tu nous tiens</h1>
        <p>Une animation interactive pour d√©construire les id√©es re√ßues.</p>
        <div class="intro-frame">
            <img src="logo-leo.png" alt="L√©o Lagrange">
        </div>
        <div class="art-shapes">
            <div class="art-circle">62</div>
            <div class="art-square"><i class="fas fa-users"></i></div>
            <div class="art-circle" style="background:var(--p-pink)"><i class="fas fa-heart"></i></div>
        </div>
    </div>

    <div class="slide" id="slide2">
        <h1>Les R√®gles du Jeu</h1>
        <p>Pour que tout se passe bien (cliquez pour tester)</p>
        <!-- Les r√®gles sont dans le conteneur "rules-wrapper-center" au dessus -->
    </div>

    <div class="slide" id="slide3">
        <h1>Faisons connaissance !</h1>
        <div class="ib-container">
            <div class="ib-item" style="border-color:var(--p-blue)">Mon Pr√©nom ?</div>
            <div class="ib-item" style="border-color:var(--p-pink)">J'adore... üòç</div>
            <div class="ib-item" style="border-color:var(--p-mint)">Je d√©teste... ü§Æ</div>
            <div class="ib-item" style="border-color:var(--p-yellow)">Mon R√™ve üöÄ</div>
        </div>
    </div>

    <div class="slide" id="slide4">
        <h1>L√©o Lagrange</h1>
        <div class="leo-frame">
            <div class="leo-col">
                <h2>1900 - 1940</h2>
                <div class="leo-list">
                    <div><i class="fas fa-star" style="color:var(--p-yellow)"></i> N√© le 28 Nov 1900</div>
                    <div><i class="fas fa-university" style="color:var(--p-blue)"></i> D√©put√© & Sous-secr√©taire d'√âtat (1936)</div>
                    <div><i class="fas fa-umbrella-beach" style="color:var(--p-pink)"></i> Cr√©e les <strong>Cong√©s Pay√©s</strong></div>
                    <div><i class="fas fa-dove" style="color:var(--text)"></i> Mort au front en 1940</div>
                </div>
                <div class="leo-img-box"><img src="logo-leo.png"></div>
            </div>
            <div class="leo-col" style="border-left: 2px dashed #eee; padding-left: 40px;">
                <h2>Aujourd'hui</h2>
                <div class="leo-list">
                    <div><i class="fas fa-child" style="color:var(--p-mint)"></i> √âducation Populaire</div>
                    <div><i class="fas fa-fist-raised" style="color:var(--p-purple)"></i> Lutte contre les in√©galit√©s</div>
                    <div><i class="fas fa-shapes" style="color:var(--p-blue)"></i> Loisirs & Formation</div>
                    <div><i class="fas fa-quote-left" style="color:var(--p-pink)"></i> "Aux hommes le temps de vivre"</div>
                </div>
            </div>
        </div>
    </div>

    <div class="slide" id="slide5">
        <h1>Qui fait quoi ?</h1>
        <div class="circles-zone">
            <div class="c-item c-region">
                <span class="c-label">R√©gion</span>
                <div class="c-details">
                    <span class="tag">Lyc√©es</span>
                    <span class="tag">Transports (TER)</span>
                    <span class="tag">Formation Pro</span>
                    <span class="tag">Sant√© (ARS)</span>
                </div>
            </div>
            <div class="c-item c-dept">
                <span class="c-label">D√©partement</span>
                <div class="c-details">
                    <span class="tag">Coll√®ges</span>
                    <span class="tag">Routes</span>
                    <span class="tag">Solidarit√© (RSA)</span>
                    <span class="tag">Aide Enfance (ASE)</span>
                </div>
            </div>
            <div class="c-item c-ville">
                <span class="c-label">Ville</span>
                <div class="c-details">
                    <span class="tag">√âcoles primaires</span>
                    <span class="tag">√âtat civil</span>
                    <span class="tag">Urbanisme</span>
                    <span class="tag">Cantine</span>
                </div>
            </div>
        </div>
    </div>

    <div class="slide" id="slide6">
        <h1>Num√©ros d'Urgence</h1>
        <div class="nums-grid">
            <div class="num-card" style="border-top: 5px solid #118ab2">
                <div class="num-big">119</div>
                <div class="num-title">Enfance en Danger</div>
                <div class="num-desc">Enfant maltrait√© ou t√©moin ? Appel gratuit, 24/7. N'appara√Æt pas sur la facture.</div>
            </div>
            <div class="num-card" style="border-top: 5px solid #06d6a0">
                <div class="num-big">112 / 911</div>
                <div class="num-title">International</div>
                <div class="num-desc">Urgences vitales. Fonctionne partout en Europe (112) et USA (911). M√™me sans r√©seau.</div>
            </div>
            <div class="num-card" style="border-top: 5px solid #ef476f">
                <div class="num-big">17</div>
                <div class="num-title">Police Secours</div>
                <div class="num-desc">Agression, Vol, Violence imm√©diate.</div>
            </div>
            <div class="num-card" style="border-top: 5px solid #ffd166">
                <div class="num-big">3018</div>
                <div class="num-title">Cyber-Harc√®lement</div>
                <div class="num-desc">√âcoute, conseils, suppression de contenus.</div>
                <span class="badge-app">Existe en Appli ! (Preuves)</span>
            </div>
            <div class="num-card" style="border-top: 5px solid #a2d2ff">
                <div class="num-big">3028</div>
                <div class="num-title">D√©fenseur des droits</div>
                <div class="num-desc">Refus de logement ? D'emploi ? Discrimination ? Saisissez-le gratuitement.</div>
            </div>
            <div class="num-card" style="border-top: 5px solid #cdb4db">
                <div class="num-big">3114</div>
                <div class="num-title">Pr√©vention Suicide</div>
                <div class="num-desc">Une √©coute professionnelle et confidentielle pour les personnes en d√©tresse.</div>
            </div>
        </div>
    </div>

    <div class="slide" id="slide7">
        <h1>Les Chiffres 2023-2024</h1>
        <div class="stats-row">
            <div class="stat-circle" style="border-color: var(--p-pink)">
                <div class="s-val">+32%</div>
                <div class="s-label">Racisme</div>
                <div class="s-comment">Crimes et d√©lits racistes en forte hausse (Min. Int√©rieur).</div>
            </div>
            <div class="stat-circle" style="border-color: var(--p-blue)">
                <div class="s-val">X 4</div>
                <div class="s-label">Antis√©mitisme</div>
                <div class="s-comment">Explosion des actes recens√©s fin 2023.</div>
            </div>
            <div class="stat-circle" style="border-color: var(--p-purple)">
                <div class="s-val">+13%</div>
                <div class="s-label">LGBTphobies</div>
                <div class="s-comment">Agressions physiques et verbales (SOS Homophobie).</div>
            </div>
            <div class="stat-circle" style="border-color: var(--p-green)">
                <div class="s-val">‚ÜóÔ∏è</div>
                <div class="s-label">Islamophobie</div>
                <div class="s-comment">Discrimination √† l'embauche et actes antimusulmans persistants.</div>
            </div>
            <div class="stat-circle" style="border-color: var(--p-yellow)">
                <div class="s-val">‚õ™</div>
                <div class="s-label">Christianophobie</div>
                <div class="s-comment">Vandalisme et d√©gradations d'√©difices religieux.</div>
            </div>
        </div>
    </div>

    <div class="slide" id="slide8">
        <button class="reset-btn" onclick="clearCloud()">Effacer</button>
        <h1>Nuage de Mots</h1>
        <input type="text" id="word-input" placeholder="Tapez un mot + Entr√©e">
        <div id="cloud-canvas"></div>
    </div>

    <div class="slide" id="slide9">
        <h1>Cultionnary</h1>
        <div class="cult-layout">
            <div class="cult-rules">
                <div class="cult-icon"><i class="fas fa-pencil-alt"></i></div>
                <h3>R√®gles :</h3>
                <p>1. Formez des √©quipes.</p>
                <p>2. 7 dessins √† faire deviner.</p>
                <p>3. <strong>Interdit</strong> de parler ou d'√©crire !</p>
                <p>4. On dessine √† tour de r√¥le.</p>
            </div>
            <div class="cult-timer-box">
                <div id="timer-display">60</div>
                <div class="timer-controls">
                    <button onclick="adjustTimer(-10)">-</button>
                    <button onclick="startTimer()">‚ñ∂</button>
                    <button onclick="adjustTimer(10)">+</button>
                </div>
            </div>
        </div>
    </div>

    <div class="slide" id="slide10">
        <h1>Cin√© D√©bat</h1>
        <iframe width="800" height="450" style="border-radius:20px; box-shadow:var(--shadow);" src="https://www.youtube.com/embed/e2cNSBtWeGk" title="Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>

    <div class="slide" id="slide11">
        <h1>Le Courage d'Agir</h1>
        <div class="courage-container">
            <div class="game-zone">
                <div class="c-corner cc-red">JE NE FAIS RIEN</div>
                <div class="c-corner cc-blue">JE PR√âVIENS</div>
                <div class="c-corner cc-green">J'INTERVIENS</div>
                <div id="active-card-zone">Cliquez sur une situation</div>
            </div>
            <div class="situations-list">
                <div class="situation-card" onclick="playCard(this)">1. On refuse l'entr√©e d'un caf√© √† une femme voil√©e.</div>
                <div class="situation-card" onclick="playCard(this)">2. Un √©l√®ve insulte un camarade "Sale pd" dans le couloir.</div>
                <div class="situation-card" onclick="playCard(this)">3. Une prof refuse une √©l√®ve en jupe longue.</div>
                <div class="situation-card" onclick="playCard(this)">4. Une blague raciste est faite en repas de famille.</div>
                <div class="situation-card" onclick="playCard(this)">5. Un ami ne veut pas s'asseoir √† c√¥t√© d'un r√©fugi√©.</div>
                <div class="situation-card" onclick="playCard(this)">6. Sur les r√©seaux, une fille est harcel√©e sur son physique.</div>
                <div class="situation-card" onclick="playCard(this)">7. Un coach sportif refuse d'inscrire un jeune handicap√©.</div>
                <div class="situation-card" onclick="playCard(this)">8. Un tag antis√©mite sur le mur du coll√®ge.</div>
            </div>
        </div>
    </div>

    <div class="slide" id="slide12">
        <h1>Merci √† tous !</h1>
        <div class="intro-frame">
            <img src="logo-leo.png" alt="L√©o Lagrange">
        </div>
    </div>

<script>
    let currentSlide = 1;
    const totalSlides = 12;
    const body = document.body;

    function showSlide(n) {
        document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
        document.getElementById('slide'+n).classList.add('active');

        // GESTION DES R√àGLES PERSISTANTES
        if (n === 1) {
            body.classList.add('hide-rules');
            body.classList.remove('mini-rules-active');
        } else if (n === 2) {
            body.classList.remove('hide-rules');
            body.classList.remove('mini-rules-active');
        } else {
            // A partir de la slide 3, les r√®gles deviennent mini
            body.classList.remove('hide-rules');
            body.classList.add('mini-rules-active');
        }
    }

    document.getElementById('next-btn').onclick = () => { if(currentSlide < totalSlides) { currentSlide++; showSlide(currentSlide); }};
    document.getElementById('prev-btn').onclick = () => { if(currentSlide > 1) { currentSlide--; showSlide(currentSlide); }};

    /* --- ALGORITHME NUAGE DE MOTS (SANS CHEVAUCHEMENT) --- */
    const cloudCanvas = document.getElementById('cloud-canvas');
    const existingRects = [];

    document.getElementById('word-input').addEventListener('keypress', function(e) {
        if(e.key === 'Enter' && this.value.trim() !== '') {
            addWord(this.value);
            this.value = '';
        }
    });

    function addWord(text) {
        const span = document.createElement('div');
        span.className = 'cloud-item';
        span.innerText = text;
        span.style.color = `hsl(${Math.random()*360}, 70%, 60%)`;
        span.style.fontSize = (Math.random()*20 + 20) + 'px';
        span.style.transform = `rotate(${Math.random()*40 - 20}deg)`;
        
        cloudCanvas.appendChild(span);

        // Positionnement intelligent (Essayer 50 fois de trouver une place libre)
        let placed = false;
        let attempts = 0;
        const maxAttempts = 50;

        while(!placed && attempts < maxAttempts) {
            const w = span.offsetWidth;
            const h = span.offsetHeight;
            const x = Math.random() * (cloudCanvas.offsetWidth - w);
            const y = Math.random() * (cloudCanvas.offsetHeight - h);

            // V√©rifier collision
            const newRect = { left: x, right: x+w, top: y, bottom: y+h };
            let collision = false;
            for(let r of existingRects) {
                if (!(newRect.right < r.left || 
                      newRect.left > r.right || 
                      newRect.bottom < r.top || 
                      newRect.top > r.bottom)) {
                    collision = true;
                    break;
                }
            }

            if(!collision) {
                span.style.left = x + 'px';
                span.style.top = y + 'px';
                existingRects.push(newRect);
                placed = true;
            }
            attempts++;
        }

        if(!placed) span.remove(); // Si pas de place, on annule (√©vite le chaos)
    }

    function clearCloud() {
        cloudCanvas.innerHTML = '';
        existingRects.length = 0;
    }

    /* --- TIMER CULTIONNARY --- */
    let timeLeft = 60;
    let timerId = null;
    const timerDisplay = document.getElementById('timer-display');

    function adjustTimer(val) {
        timeLeft += val;
        if(timeLeft < 0) timeLeft = 0;
        timerDisplay.innerText = timeLeft;
    }
    function startTimer() {
        if(timerId) clearInterval(timerId);
        timerId = setInterval(() => {
            if(timeLeft > 0) {
                timeLeft--;
                timerDisplay.innerText = timeLeft;
            } else {
                clearInterval(timerId);
                alert("Temps √©coul√© !");
            }
        }, 1000);
    }

    /* --- LOGIQUE CARTES COURAGE --- */
    function playCard(cardElement) {
        // Enlever l'ancienne carte active
        const oldActive = document.querySelector('.situation-card.active');
        if(oldActive) {
            oldActive.classList.remove('active');
            oldActive.style.position = 'static';
            oldActive.style.transform = 'none';
            document.querySelector('.situations-list').appendChild(oldActive);
        }

        // Activer la nouvelle
        cardElement.classList.add('active');
        document.querySelector('.game-zone').appendChild(cardElement);
    }

    // Init
    showSlide(1);

</script>
</body>
</html>
